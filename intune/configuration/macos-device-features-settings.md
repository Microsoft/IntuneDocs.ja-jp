---
title: Microsoft Intune の macOS デバイスの機能設定 - Azure | Microsoft Docs
description: Microsoft Intune で AirPrint 用の macOS デバイスを構成し、電源ボタンを表示または非表示にするようログイン ウィンドウをカスタマイズするための設定について説明します。 ネットワーク内の AirPrint サーバーの IP アドレス、パス、およびポート設定を取得する手順について説明します。 デバイス構成プロファイルでこれらの設定を使用して、macOS デバイスを構成します。
keywords: ''
author: MandiOhlinger
ms.author: mandia
manager: dougeby
ms.date: 12/12/2019
ms.topic: reference
ms.service: microsoft-intune
ms.subservice: configuration
ms.localizationpriority: medium
ms.technology: ''
ms.reviewer: ''
ms.suite: ems
search.appverid: ''
ms.custom: intune-azure
ms.collection: M365-identity-device-management
ms.openlocfilehash: 791e2a1313480bdf1ad95988d48664d6620ba0b3
ms.sourcegitcommit: e166b9746fcf0e710e93ad012d2f52e2d3ed2644
ms.translationtype: MTE75
ms.contentlocale: ja-JP
ms.lasthandoff: 12/19/2019
ms.locfileid: "75206348"
---
# <a name="macos-device-feature-settings-in-intune"></a>Intune での macOS デバイスの機能設定

Intune には、macOS デバイスで機能をカスタマイズするための組み込みの設定がいくつかあります。 たとえば、管理者は、放映印刷プリンターの追加、ユーザーのサインイン方法の選択、電源管理の構成、シングルサインオン認証の使用などを行うことができます。

これらの機能を使用して、macOS デバイスをご利用のモバイル デバイス管理 (MDM) ソリューションの一部として制御します。

この記事では、このような設定を一覧で示し、各設定の機能について説明します。 また、ターミナル アプリ (エミュレーター) を使って AirPrint プリンターの IP アドレス、パス、ポートを取得する手順についても説明します。 デバイスの機能の詳細について[は、iOS または macOS デバイスの機能設定の追加](device-features-configure.md)に関するページを参照してください。

## <a name="before-you-begin"></a>始める前に

[macOS デバイス構成プロファイルを作成します](device-features-configure.md)。

> [!NOTE]
> これらの設定は、さまざまな登録の種類に適用され、一部の設定はすべての登録オプションに適用されます。 さまざまな登録の種類の詳細については、「 [macOS の登録](../enrollment/macos-enroll.md)」を参照してください。

## <a name="airprint"></a>AirPrint

### <a name="settings-apply-to-device-enrollment-and-automated-device-enrollment"></a>設定の適用先: デバイスの登録とデバイスの自動登録 

- **[IP アドレス]** :プリンターの IPv4 アドレスまたは IPv6 アドレスを入力します。 ホスト名を使用してプリンターを識別している場合は、ターミナル アプリでプリンターに ping を実行することで IP アドレスを取得できます。 詳細については、「[IP アドレスとパスを取得する](#get-the-ip-address-and-path)」(この記事) を参照してください。
- **パス**:プリンターのパスを入力します。 通常、このパスはネットワーク上のプリンターの `ipp/print` です。 詳細については、「[IP アドレスとパスを取得する](#get-the-ip-address-and-path)」(この記事) を参照してください。
- **ポート** (iOS 11.0 以降):AirPrint の接続先のリスニング ポートを入力します。 このプロパティを空白のままにすると、AirPrint には既定のポートが使用されます。
- **TLS** (iOS 11.0 以降):トランスポート層セキュリティ (TLS) で AirPrint の接続を保護するには、 **[有効]** を選択します。

- AirPrint サーバーを**追加**します。 多数の AirPrint サーバーを追加できます。

AirPrint プリンターの一覧を含むコンマ区切りファイル (.csv) を **[インポート]** することもできます。 また、Intune に AirPrint プリンターを追加した後、この一覧を **[エクスポート]** することもできます。

### <a name="get-the-ip-address-and-path"></a>IP アドレスとパスを取得する

AirPrinter サーバーを追加するには、プリンターの IP アドレス、リソース パス、およびポートが必要です。 この情報を取得する手順は次のとおりです。

1. AirPrint プリンターと同じローカル ネットワーク (サブネット) に接続している Mac 上で、( **/アプリケーション/ユーティリティ**から) **ターミナル**を開きます。
2. ターミナル アプリで「`ippfind`」と入力し、Enter キーを押します。

    プリンター情報をメモします。 たとえば、`ipp://myprinter.local.:631/ipp/port1` のような内容が返されます。 最初の部分はプリンターの名前です。 最後の部分 (`ipp/port1`) はリソース パスです。

3. ターミナルで「`ping myprinter.local`」と入力し、Enter キーを押します。

   IP アドレスをメモします。 たとえば、`PING myprinter.local (10.50.25.21)` のような内容が返されます。

4. この IP アドレスとリソース パスの値を使用します。 この例では、IP アドレスは `10.50.25.21`、リソース パスは `/ipp/port1` です。

## <a name="login-items"></a>ログイン項目

### <a name="settings-apply-to-all-enrollment-types"></a>設定の適用先: すべての登録の種類

- **ファイル、フォルダー、およびカスタムアプリ**: ユーザーがデバイスにサインインしたときに開くファイル、フォルダー、カスタムアプリ、またはシステムアプリのパスを**追加**します。 組織用に構築またはカスタマイズされたシステムアプリやアプリは、通常、`Applications` フォルダーにあり、`/Applications/AppName.app`のようなパスになります。 

  多くのファイル、フォルダー、アプリを追加できます。 たとえば、次のように入力します。  
  
  - `/Applications/Calculator.app`
  - `/Applications`
  - `/Applications/Microsoft Office/root/Office16/winword.exe`
  - `/Users/UserName/music/itunes.app`
  
  アプリ、フォルダー、またはファイルを追加するときは、正しいパスを入力してください。 `Applications` フォルダーにすべての項目が含まれているわけではありません。 ユーザーがある場所から別の場所に項目を移動すると、パスが変更されます。 この移動した項目は、ユーザーがサインインしても開かれません。

## <a name="login-window"></a>ログイン ウィンドウ

### <a name="settings-apply-to-device-enrollment-and-automated-device-enrollment"></a>設定の適用先: デバイスの登録とデバイスの自動登録

#### <a name="window-layout"></a>ウィンドウのレイアウト

- **[メニュー バーに追加情報を表示する]** :メニュー バー上の時刻領域を選択すると、 **[許可]** にホスト名と macOS のバージョンが表示されます。 **[未構成]** (既定) の場合、この情報はメニュー バーには表示されません。
- **[バナー]** :デバイスのサインイン画面に表示されるメッセージを入力します。 たとえば、組織の情報、ようこそメッセージ、遺失物情報などを入力します。
- **[ログインの形式を選択する]** :ユーザーがデバイスにサインインする方法を選択します。 次のようなオプションがあります。
  - **[ユーザー名とパスワードの入力を求める]** (既定):ユーザーはユーザー名とパスワードを入力する必要があります。
  - **[すべてのユーザーを一覧表示して、パスワードの入力を求める]** :ユーザーはユーザーの一覧から自分のユーザー名を選び、パスワードを入力する必要があります。 以下も構成します:

    - **[ローカル ユーザー]** : **[非表示]** の場合、ユーザー一覧にローカル ユーザー アカウントは表示されません。標準および管理者アカウントも対象となることがあります。 ネットワークおよびシステム ユーザー アカウントのみ表示されます。 **[未構成]** (既定) の場合、ユーザー一覧にローカル ユーザー アカウントが表示されます。
    - **[モバイル アカウント]** : **[非表示]** の場合、ユーザー一覧にモバイル アカウントは表示されません。 **[未構成]** (既定) の場合、ユーザー一覧にモバイル アカウントが表示されます。 一部のモバイル アカウントは、ネットワーク ユーザーとして表示される場合があります。
    - **[ネットワーク ユーザー]** : **[表示]** を選択すると、ユーザー一覧にネットワーク ユーザーがリストされます。 **[未構成]** (既定) の場合、ユーザー一覧にネットワーク ユーザー アカウントが表示されません。
    - **[管理者ユーザー]** : **[非表示]** の場合、ユーザー一覧に管理者ユーザー アカウントは表示されません。 **[未構成]** (既定) の場合、ユーザー一覧に管理者ユーザー アカウントが表示されます。
    - **[他のユーザー]** : **[表示]** を選択すると、ユーザー一覧に **[その他]** ユーザーがリストされます。 **[未構成]** (既定) の場合、ユーザー一覧にその他のユーザー アカウントが表示されません。

#### <a name="login-screen-power-settings"></a>ログイン画面の電源設定

- **[システム終了ボタン]** : **[非表示]** の場合、サインイン画面にシステム終了ボタンが表示されません。 **[未構成]** (既定) の場合、システム終了ボタンが表示されます。
- **[[再起動] ボタン]** : **[非表示]** の場合、サインイン画面に再起動ボタンが表示されません。 **[未構成]** (既定) の場合、再起動ボタンが表示されます。
- **[スリープ ボタン]** : **[非表示]** の場合、サインイン画面にスリープ ボタンが表示されません。 **[未構成]** (既定) の場合、スリープ ボタンが表示されます。

#### <a name="other"></a>その他

- **[[コンソール] からユーザーのログインを無効にする]** : **[無効]** の場合、サインインに使用される macOS コマンドラインが非表示になります。 一般的なユーザーの場合、この設定は **[無効]** にします。 **[未構成]** (既定) の場合、上級ユーザーは macOS コマンドラインを使用してサインインすることができます。 ユーザーがコンソール モードに入るには、[ユーザー名] フィールドに `>console` を入力し、コンソール ウィンドウで認証を行う必要があります。

#### <a name="apple-menu"></a>Apple メニュー

ユーザーがデバイスにサインインした後どの操作ができるかは、次の設定によって影響を受けます。

- **[[システム終了] を無効にする]** : **[無効]** の場合、ユーザーはサインイン後 **[システム終了]** オプションを選択することができません。 **[未構成]** (既定) の場合、ユーザーはデバイスで **[システム終了]** メニュー項目を選択することができます。
- **[[再起動] を無効にする]** : **[無効]** の場合、ユーザーはサインイン後 **[再起動]** オプションを選択することができません。 **[未構成]** (既定) の場合、ユーザーはデバイスで **[再起動]** メニュー項目を選択することができます。
- **[[電源オフ] を無効にする]** : **[無効]** の場合、ユーザーはサインイン後 **[電源オフ]** オプションを選択することができません。 **[未構成]** (既定) の場合、ユーザーはデバイスで **[電源オフ]** メニュー項目を選択することができます。
- **[[ログアウト] を無効にする]** (macOS 10.13 以降): **[無効]** の場合、ユーザーはサインイン後 **[ログアウト]** オプションを選択することができません。 **[未構成]** (既定) の場合、ユーザーはデバイスで **[ログアウト]** メニュー項目を選択することができます。
- **[[ロック画面] を無効にする]** (macOS 10.13 以降): **[無効]** の場合、ユーザーはサインイン後 **[ロック画面]** オプションを選択することができません。 **[未構成]** (既定) の場合、ユーザーはデバイスで **[ロック画面]** メニュー項目を選択することができます。

## <a name="single-sign-on-app-extension"></a>シングル サインオン アプリの拡張機能

この機能は、以下に適用されます。

- macOS 10.15 以降

### <a name="settings-apply-to-all-enrollment-types"></a>設定の適用先: すべての登録の種類 

- **Sso アプリ拡張機能の種類**: 資格情報 sso アプリ拡張機能の種類を選択します。 次のようなオプションがあります。

  - **未構成**: アプリの拡張機能は使用されません。 アプリの拡張機能を無効にするには、SSO アプリの拡張機能の種類を **[未構成]** に切り替えます。
  - **リダイレクト**: 汎用のカスタマイズ可能なリダイレクトアプリ拡張機能を使用して、最新の認証フローで SSO を実行します。 組織のアプリ拡張機能の拡張機能とチーム ID がわかっていることを確認してください。
  - **資格情報**: 汎用のカスタマイズ可能な資格情報アプリ拡張機能を使用して、チャレンジと応答の認証フローで SSO を実行します。 組織の SSO アプリ拡張機能の拡張機能 ID とチーム ID がわかっていることを確認してください。  
  - **Kerberos**: macOS catalina.properties 10.15 以降に含まれる、Apple の組み込みの Kerberos 拡張機能を使用します。 このオプションは、Kerberos 固有の**資格情報**アプリ拡張機能です。

  > [!TIP]
  > **リダイレクト**と**資格情報**の種類を使用して、独自の構成値を追加して拡張機能を通過します。 **資格情報**を使用している場合は、Apple によって提供される、 **Kerberos**の種類に組み込まれている構成設定を使用することを検討してください。

- **拡張機能 ID** (リダイレクトと資格情報): SSO アプリ拡張機能を識別するバンドル識別子 (`com.apple.ssoexample`など) を入力します。
- **チーム ID** (リダイレクトと資格情報): SSO アプリ拡張機能のチーム識別子を入力します。 チーム識別子は、`ABCDE12345`のように、Apple によって生成される10文字の英数字 (数字と文字) 文字列です。 

  [チーム ID を検索](https://help.apple.com/developer-account/#/dev55c3c710c)します (Apple の web サイトを開きます)。詳細については、こちらを参照してください。

- [**領域**(資格情報と Kerberos)]: 認証領域の名前を入力します。 領域名は、`CONTOSO.COM`のように大文字で指定する必要があります。 通常、領域名は DNS ドメイン名と同じですが、すべて大文字で指定します。

- [**ドメイン**(資格情報と Kerberos)]: SSO 経由で認証できるサイトのドメイン名またはホスト名を入力します。 たとえば、web サイトが `mysite.contoso.com`場合、`mysite` はホスト名、`contoso.com` がドメイン名になります。 ユーザーがこれらのサイトのいずれかに接続すると、アプリ拡張機能によって認証チャレンジが処理されます。 この認証により、ユーザーは顔 ID、タッチ ID、または Apple pincode/パスコードを使用してサインインできます。

  - シングルサインオンアプリ拡張機能の Intune プロファイル内のすべてのドメインは一意である必要があります。 さまざまな種類の SSO アプリ拡張機能を使用している場合でも、どのサインオンアプリ拡張機能プロファイルでもドメインを繰り返すことはできません。
  - これらのドメインでは大文字と小文字が区別されません。

- **Url** (リダイレクトのみ): リダイレクトアプリ拡張機能が SSO を実行するための id プロバイダーの URL プレフィックスを入力します。 ユーザーがこれらの Url にリダイレクトされると、SSO アプリ拡張機能が介入し、SSO を要求します。

  - Intune シングルサインオンアプリ拡張機能プロファイル内のすべての Url は一意である必要があります。 さまざまな種類の SSO アプリ拡張機能を使用している場合でも、任意の SSO アプリ拡張機能プロファイルでドメインを繰り返すことはできません。
  - Url は、 http://または https://で始まる必要があります。

- **追加の構成**(リダイレクトと資格情報): SSO アプリ拡張機能に渡す追加の拡張機能固有のデータを入力します。
  - **キー**: `user name`など、追加する項目の名前を入力します。
  - **種類**: データの種類を入力します。 次のようなオプションがあります。

    - 文字列型
    - ブール: **構成値** に、`True` または `False`を入力します。
    - 整数: **構成値** に数値を入力します。
    
  - **値**: データを入力します。
  
  - **[追加]** : 選択した構成キーを追加します。

- **キーチェーンの使用法**(Kerberos のみ): パスワードが保存されてキーチェーンに格納されないようにするには、 **[ブロック]** を選択します。 **[未構成]** (既定値) を指定すると、パスワードを保存してキーチェーンに格納できます。  
- **顔 id、タッチ id、またはパスコード**(Kerberos のみ **): ユーザー**は、ユーザーが顔 id、タッチ Id、または Apple パスコードを入力して、追加したドメインにサインインすることを強制します。 **[未構成]** (既定) では、ユーザーはサインインに生体認証やパスコードを使用する必要がありません。
- **既定の領域**(Kerberos のみ): 既定の領域として入力した**領域**の値を設定するには、[**有効**にする] を選択します。 **未構成**(既定) では、既定の領域は設定されません。

  > [!TIP]
  > - 組織で複数の Kerberos SSO アプリ拡張機能を構成している場合は、この設定**を有効に**します。
  > - 複数のレルムを使用している場合は、この設定**を有効に**します。 これにより、入力した**領域**の値が既定の領域として設定されます。
  > - 領域が1つしかない場合は、**構成しません**(既定)。

- **自動検出**(Kerberos のみ): **Block**に設定されている場合、KERBEROS 拡張機能は LDAP と DNS を自動的に使用して Active Directory サイト名を決定しません。 **未構成**(既定) に設定すると、拡張機能で Active Directory サイト名が自動的に検索されます。
- [**パスワードの変更**(Kerberos のみ)]:**ブロック**を使用して、ユーザーが入力したドメインへのサインインに使用するパスワードを変更できないようにします。 **未構成**(既定) では、パスワードを変更できます。  
- **パスワード同期**(Kerberos のみ): **[有効]** を選択すると、ユーザーのローカルパスワードが Azure AD に同期されます。 **未構成**(既定) Azure AD のパスワード同期を無効にします。 SSO への代替またはバックアップとしてこの設定を使用します。 ユーザーが Apple モバイルアカウントを使用してサインインしている場合、この設定は機能しません。
- **Windows Server Active Directory パスワードの複雑さ**(Kerberos のみ): ユーザーのパスワードが Active Directory のパスワードの複雑さの要件を満たすように強制するには、 **[必須]** を選択します。 詳細については、「[パスワードは複雑さの要件を満たす必要があり](https://docs.microsoft.com/windows/security/threat-protection/security-policy-settings/password-must-meet-complexity-requirements)ます」をご覧ください。 未構成 (既定) では、ユーザーは Active Directory のパスワード要件を満たし**ている**必要はありません。
- [**パスワードの最小**文字数 (Kerberos のみ)]: ユーザーのパスワードを構成できる文字の最小数を入力します。 **未構成**(既定) では、ユーザーに最低限のパスワードの長さは適用されません。
- [**パスワードの再利用制限**(Kerberos のみ)]: ドメインで以前のパスワードを再利用できるようになるまでに使用する必要がある、新しいパスワードの数を1-24 から入力します。 **未構成**(既定) では、パスワードの再利用制限は適用されません。
- [**パスワードの最小有効期間**(Kerberos のみ)]: ユーザーがパスワードを変更できるようにするために、ドメインでパスワードを使用する必要がある日数を入力します。 **未構成**(既定) では、パスワードを変更する前に、パスワードの最小有効期間は適用されません。
- **パスワードの有効期限の通知**(Kerberos のみ): パスワードの有効期限が切れたことを知らせるパスワードの有効期限が切れるまでの日数を入力します。 **未構成**(既定) は `15` 日を使用します。
- **[パスワードの有効期限]** (Kerberos のみ):デバイス パスワードの変更が必要になるまでの日数を入力します。 **未構成**(既定) は、ユーザーのパスワードが期限切れにならないことを意味します。
- [**パスワード変更 url** (kerberos のみ)]: ユーザーが kerberos パスワード変更を開始したときに起動する Url を入力します。
- [**プリンシパル名**(kerberos のみ)]: kerberos プリンシパルのユーザー名を入力します。 領域名を含める必要はありません。 たとえば、`user@contoso.com`では、`user` がプリンシパル名、`contoso.com` が領域名です。

  > [!TIP]
  > - また、`{{ }}`中かっこを入力することによって、プリンシパル名に変数を使用することもできます。 たとえば、ユーザー名を表示するには、「`Username: {{username}}`」と入力します。 
  > - ただし、変数の代入に注意してください。変数は UI で検証されず、大文字と小文字が区別されるためです。 正しい情報を入力してください。
  
- **Active Directory サイトコード**(kerberos のみ): kerberos 拡張機能で使用する Active Directory サイトの名前を入力します。 Kerberos 拡張機能によって Active Directory サイトコードが自動的に検出される可能性があるため、この値を変更する必要はありません。
- [**キャッシュ名**(kerberos のみ)]: kerberos キャッシュの汎用セキュリティサービス (GSS) 名を入力します。 多くの場合、この値を設定する必要はありません。  
- **パスワードの要件メッセージ**(Kerberos のみ): ユーザーに表示される組織のパスワード要件のテキストバージョンを入力します。 Active Directory のパスワードの複雑さの要件を必要としない場合、またはパスワードの最小文字数を入力しない場合は、メッセージが表示されます。  
- **アプリバンドル id** (Kerberos のみ): デバイスでシングルサインオンを使用する必要があるアプリバンドル識別子を**追加**します。 これらのアプリには、Kerberos チケット保証チケットと認証チケットへのアクセス権が付与され、アクセスが許可されているサービスに対してユーザーを認証します。
- [**ドメイン領域マッピング**(Kerberos のみ)]: 領域にマップするドメイン DNS サフィックスを**追加**します。 ホストの DNS 名が領域名と一致しない場合に、この設定を使用します。 このカスタムドメインから領域へのマッピングを作成する必要はほとんどありません。
- [ **Pkinit 証明書**(kerberos のみ)]: Kerberos 認証に使用できる、初期認証 (pkinit) 証明書の公開キー暗号化を**選択し**ます。 Intune で追加した[PKCS](../protect/certficates-pfx-configure.md)または[SCEP](../protect/certificates-scep-configure.md)証明書から選択できます。 証明書の詳細については、「 [Microsoft Intune での認証に証明書を使用する](../protect/certificates-configure.md)」を参照してください。

## <a name="associated-domains"></a>関連付けられたドメイン

Intune では、次のことができます。

- 多数のアプリからドメインへの関連付けを追加します。
- 複数のドメインを同じアプリに関連付けます。

この機能は、以下に適用されます。

- macOS 10.15 以降

### <a name="settings-apply-to-all-enrollment-types"></a>設定の適用先: すべての登録の種類

- **アプリ ID**: web サイトに関連付けるアプリのアプリ識別子を入力します。 アプリ識別子には、チーム ID とバンドル ID の `TeamID.BundleID`が含まれます。

  チーム ID は、アプリ開発者向けに Apple によって生成される10文字の英数字 (文字と数字) 文字列です (`ABCDE12345`など)。 [チーム ID を見つけ](https://help.apple.com/developer-account/#/dev55c3c710c) (Apple の web サイトを開きます)。詳細については、こちらを参照してください。

  バンドル ID はアプリを一意に識別するものであり、通常は逆ドメイン名表記で書式設定されます。 たとえば、Finder のバンドル ID は `com.apple.finder`です。 バンドル ID を検索するには、次のように、ターミナルで AppleScript を使用します。

  `osascript -e 'id of app "ExampleApp"'`

- **ドメイン**: アプリに関連付ける web サイトのドメインを入力します。 ドメインには、サービスの種類と完全修飾ホスト名 (`webcredentials: www.contoso.com`など) が含まれています。

  ドメインの先頭の前に `*.` (アスタリスクのワイルドカードとピリオド) を入力すると、関連付けられているドメインのすべてのサブドメインを一致させることができます。 期間は必須です。 正確なドメインは、ワイルドカードドメインよりも優先順位が高くなります。 したがって、完全修飾サブドメインで一致するものが見つからない*場合*、親ドメインからのパターンが一致します。

  サービスの種類は次のとおりです。

  - **authsrv**:シングル サインオン アプリの拡張機能
  - **「」** : ユニバーサルリンク
  - **webcredentials**: パスワードのオートコンプリート

- **[追加]** : アプリと関連付けられているドメインを追加する場合に選択します。

> [!TIP]
> トラブルシューティングを行うには、macOS デバイスで **[システム環境設定]**  >  **[プロファイル]** を開きます。 作成したプロファイルが [デバイスプロファイル] の一覧に表示されていることを確認します。 一覧に表示されている場合は、**関連付けら**れているドメインの構成がプロファイルにあり、正しいアプリ ID とドメインが含まれていることを確認します。

## <a name="next-steps"></a>次のステップ

[プロファイルを割り当て](device-profile-assign.md)、[その状態を監視](device-profile-monitor.md)します。

[IOS](ios-device-features-settings.md)でデバイス機能を構成することもできます。
